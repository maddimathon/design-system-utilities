///
/// @package @maddimathon/design-system-utilities@0.1.0-alpha.draft
/// @since 0.1.0-alpha.draft
///

@use 'pkg:@maddimathon/utility-sass/map';

@use 'system';

$_theme_ui_base: var(
    --theme-ui,
    var(
        --clr-#{map.get(system.$themes, default, light, average, ui, '$')},
        currentColor
    )
);

$_theme_ui_primary: var(
    --theme-ui-primary,
    var(
        --clr-#{map.get(system.$themes, default, light, average, ui, primary)},
        currentColor
    )
);

$internal_customTokensDefault: () !default;

$internal_customTokensDefault: map.merge(
    (
        focus-ring: (
            outline-width: '400',
            outline-offset: '400',
            outline-color: currentColor,
        ),

        alert: (
            color: (
                border: $_theme_ui_primary,
                icon: $_theme_ui_primary,
            ),

            icon-size: 1.1875em,
        ),

        icon: (
            color: $_theme_ui_base,
            inline-buffer: 0.125em,
            vertical-align: middle,
            size: (
                '$': 1.375em,
                pseudo: 1em,
            ),
        ),
    ),
    $internal_customTokensDefault,
    $recursive: true
);

$customTokens: () !default;

$customTokens: map.merge(
    map.flatten($internal_customTokensDefault),
    map.flatten($customTokens),
    $recursive: false
);
