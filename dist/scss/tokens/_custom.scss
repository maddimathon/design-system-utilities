///
/// @package @maddimathon/design-system-utilities@0.1.0-alpha.12
/// @since 0.1.0-alpha
///

@use '../config';
@use 'system';

@use 'pkg:@maddimathon/utility-sass/map';

$_theme_ui_base: var(
    --#{config.$cxPropPre}theme-ui,
    var(
        --#{config.$cxPropPre}clr-#{map.get(
                system.$themes,
                default,
                light,
                average,
                ui,
                '$'
            )},
        currentColor
    )
);

$_theme_ui_primary: var(
    --#{config.$cxPropPre}theme-ui-primary,
    var(
        --#{config.$cxPropPre}clr-#{map.get(
                system.$themes,
                default,
                light,
                average,
                ui,
                primary
            )},
        currentColor
    )
);

$_theme_text_primary: var(
    --#{config.$cxPropPre}theme-text-primary,
    var(
        --#{config.$cxPropPre}clr-#{map.get(
                system.$themes,
                default,
                light,
                average,
                text,
                primary
            )},
        currentColor
    )
);

$internal_customTokensDefault: () !default;

$internal_customTokensDefault: map.merge(
    (
        focus-ring: (
            outline-width: '400',
            outline-offset: '400',
            outline-color: currentColor,
        ),

        alert: (
            color: (
                border: $_theme_ui_primary,
                icon: $_theme_ui_primary,
                text: $_theme_text_primary,
            ),

            icon-size: 1.125em,
        ),

        icon: (
            color: $_theme_ui_base,
            inline-buffer: 0.25em,
            vertical-align: middle,
            size: (
                '$': 1.375em,
                pseudo: 1em,
            ),
        ),
    ),
    $internal_customTokensDefault,
    $recursive: true
);

$customTokens: () !default;

$customTokens: map.merge(
    map.flatten($internal_customTokensDefault),
    map.flatten($customTokens),
    $recursive: false
);
