///
/// @package @maddimathon/design-system-utilities@0.1.0-alpha.9
/// @since 0.1.0-alpha
///

@use 'pkg:@maddimathon/utility-sass/map';
@use 'pkg:@maddimathon/utility-sass/selector';

@use '../../../config';
@use '../../../tokens';

@use '../../../lib' as *;

@if config.$print_headings {
    /* # GLOBALS - FORMS
     * ======================================================================== */
}

%_input-base {
    @include snippet-input($includeUtils: false);
}

%input {
    @extend %_input-base;
    @include snippet-input-types($includeBase: false, $includeUtils: false);
}

%select {
    @extend %_input-base;
}

%textarea {
    @extend %_input-base;
}

@if config.$print_headings {
    /* ## Forms - Buttons ==================================== */
}

%button-span {
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;

    margin-block: #{var-mrg-firm('400')} #{var-mrg-half('400')};

    gap: #{var-mrg-firm('300')} #{var-mrg-firm('400')};

    > %button {
        margin: 0;
    }
}

%button {
    @include snippet-button($variation: primary);
}

@each $variant
    in map.keys(
        map.get(
            tokens.$themes,
            tokens.$activeTheme,
            tokens.$brightnessMode_default,
            tokens.$contrastMode_default,
            button
        )
    )
{
    @if $variant != primary and $variant != disabled {
        %button-#{$variant} {
            @include snippet-button-colours($variant);
        }
    }
}

%button-form-reset {
    @include snippet-button-colours(secondary);

    &::before {
        @if config.$template_button_inlineIcons {
            @include snippet-icon-pseudo-element(refresh, $pseudo: before) {
                align-self: center;
            }
        }
    }
}

%button-form-submit {
    &::before {
        @if config.$template_button_inlineIcons {
            @include snippet-icon-pseudo-element(check, $pseudo: before) {
                align-self: center;
            }
        }
    }
}

%file-selector-button {
    @include snippet-button($variation: 'secondary');

    & {
        display: initial;
        margin: 0;
        margin-inline-end: #{var-mrg-firm('300')};
    }
}
