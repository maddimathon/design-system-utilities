///
/// @package @maddimathon/design-system-utilities@0.1.0-alpha.draft
/// @since 0.1.0-alpha.draft
///

@use 'pkg:@maddimathon/utility-sass/map';

// @use '../../config';
@use '../../tokens';

// @use 'pkg:@maddimathon/utility-astro/01-functions' as utils;

///
/// Uses the border radius tokens to prepare the appropriate numerical value (rem).
///
/// @since 0.1.0-alpha.draft
///
@function border-radius-value($level) {
    $value: map.get(tokens.$border, radius, '200');

    @if not map.has-key(tokens.$border, radius, '#{$level}') {
        @warn "$level '#{$level}' was not a key in tokens.$border['radius']";
    } @else {
        $value: map.get(tokens.$border, radius, '#{$level}');
    }

    @return $value;
}

///
/// Uses the border-radius config tokens to print the appropriate var(...) with
/// a fallback.
///
/// @since 0.1.0-alpha.draft
///
@function var-border-radius($level) {
    @return var(
        --border-radius-#{$level},
        calc(1rem * border-radius-value($level))
    );
}

///
/// Uses the icon tokens to return a url('...') value.
///
/// @since 0.1.0-alpha.draft
///
@function icon-aspect-ratio-value($slug) {
    // returns
    @if not map.has-key(tokens.$icons, '#{$slug}') {
        @warn "$slug '#{$slug}' was not a key in tokens.$icons";
        @return $slug;
    }

    // returns
    @if not map.has-key(tokens.$icons, '#{$slug}', aspectRatio) {
        @warn "'aspectRatio' was not a key in tokens.$icons.#{$slug}";
        @return $slug;
    }

    @return map.get(tokens.$icons, '#{$slug}', aspectRatio);
}

///
/// Uses the icon tokens to return its aspect ratio.
///
/// @since 0.1.0-alpha.draft
///
@function icon-embedded-value($slug) {
    // returns
    @if not map.has-key(tokens.$icons, '#{$slug}') {
        @warn "$slug '#{$slug}' was not a key in tokens.$icons";
        @return $slug;
    }

    // returns
    @if not map.has-key(tokens.$icons, '#{$slug}', embedded) {
        @warn "'embedded' was not a key in tokens.$icons.#{$slug}";
        @return $slug;
    }

    @return map.get(tokens.$icons, '#{$slug}', embedded);
}

///
/// Uses the icon tokens to return its label value.
///
/// @since 0.1.0-alpha.draft
///
@function icon-label-value($slug) {
    // returns
    @if not map.has-key(tokens.$icons, '#{$slug}') {
        @warn "$slug '#{$slug}' was not a key in tokens.$icons";
        @return $slug;
    }

    // returns
    @if not map.has-key(tokens.$icons, '#{$slug}', label) {
        @warn "'label' was not a key in tokens.$icons.#{$slug}";
        @return $slug;
    }

    @return map.get(tokens.$icons, '#{$slug}', label);
}

///
/// Uses the transition time tokens to prepare the appropriate numerical value
/// (rem).
///
/// @since 0.1.0-alpha.draft
///
@function z-index-value($level) {
    // returns
    @if not map.has-key(tokens.$z_index, '#{$level}') {
        @warn "$level '#{$level}' was not a key in tokens.$z_index";
        @return $level;
    }

    @return map.get(tokens.$z_index, '#{$level}');
}

///
/// Uses the border radius config tokens to print the appropriate var(...) with
/// a fallback.
///
/// @since 0.1.0-alpha.draft
///
@function var-z-index($level) {
    @return var(--z-index-#{$level}, z-index-value($level));
}
