---
/**
 * @since ___PKG_VERSION___
 *
 * @packageDocumentation
 */

/* import - types */

/* import - functions */

/* import - values */

/* import - components */

/* import - layouts */

/* TYPES ===================================== */

/* PROPS ===================================== */

// export interface Props {};

// const props: Props = Astro.props.frontmatter ?? Astro.props;

/* CONSTANTS ===================================== */
---

<script>
    const controls = document.querySelectorAll(
        'input[data-colour-table-on-and-off]'
    ) as NodeListOf<HTMLInputElement>;
    console.log({ controls });

    controls.forEach((checkbox) => {
        const tableId = checkbox.getAttribute('data-colour-table-on-and-off');
        console.log({ tableId });

        // returns
        if (!tableId) {
            return;
        }

        const tables = document.querySelectorAll(`#${tableId}`);
        console.log({ tables });

        // returns
        if (!tables.length) {
            return;
        }

        checkbox.addEventListener('input', () =>
            tables.forEach((table) => {
                console.log({ checkbox });
                console.log({ checked: checkbox.checked });

                // returns
                if (checkbox.checked) {
                    // is truthy
                    table.setAttribute('data-colour-table-no-text', 'true');
                    return;
                }

                // is falsey
                table.removeAttribute('data-colour-table-no-text');
            })
        );
    });

    export {};
</script>
