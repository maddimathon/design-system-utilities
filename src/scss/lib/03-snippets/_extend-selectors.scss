///
/// @package @maddimathon/design-system-utilities@___CURRENT_VERSION___
/// @since ___PKG_VERSION___
///

@use 'pkg:@maddimathon/utility-sass/list';
@use 'pkg:@maddimathon/utility-sass/map';
@use 'pkg:@maddimathon/utility-sass/math';
@use 'pkg:@maddimathon/utility-sass/meta';

@use 'pkg:@maddimathon/utility-astro/03-snippets' as lib;

@use '../../config';
@use '../../tokens';

@use '../01-functions' as *;
// @use '../02-mixins' as *;

@mixin extend-selectors-globals(
    $additional: (),
    $optional: null,
    $allHeadingLevels: token-all-heading-levels()
) {
    //
    // $additional: list.append($additional, (nav));

    @if config.$print_docs {
        $additional: list.join(
            $additional,
            (
                (
                    ('.shade-swatch__name', '.shade-swatch__colour-value'),
                    'code'
                ),
                (('.theme-mode-toggle .toggle-title > h3'), 'h2'),
                ('.theme-mode-toggle__list .theme-mode-swatch__name', 'h3'),
                (
                    '.font-family-swatch-list .font-family-swatch .font-family-swatch__weight-dt',
                    'h6'
                ),
                (
                    '.font-family-swatch .font-family-swatch__details-list > dt',
                    'h7'
                ),
                ('.shade-swatch__contrast__heading', 'h9'),
                ('.shade-swatch__contrast__result-group__heading', 'h10'),
                ('.theme-mode-swatch__sample--selection', 'selection')
            ),
            $separator: comma
        );

        @if list.length(map.keys(tokens.$themes)) > 1 {
            @each $key, $theme in tokens.$themes {
                @if $key != default {
                    $additional: list.append(
                        $additional,
                        ('.active-theme--#{$key}', 'active-theme--#{$key}'),
                        $separator: comma
                    );
                }
            }
        }
    }

    @include lib.extend-selectors-globals(
        $additional: $additional,
        $optional: $optional
    );
}

@mixin extend-selectors-utils(
    $additional: (),
    $optional: null,
    $allHeadingLevels: token-all-heading-levels()
) {
    //
    $additional: list.append($additional, ('.alert-block', 'alert'));
    $additional: list.append($additional, ('p.aside', 'aside'));
    $additional: list.append($additional, ('.button-span', 'button-span'));
    $additional: list.append($additional, ('.icon', 'icon'));

    @include lib.extend-selectors-utils(
        $additional: $additional,
        $optional: $optional
    );
}

@mixin extend-selectors(
    $optional: null,
    $additional_globals: (),
    $additional_utils: (),
    $allHeadingLevels: token-all-heading-levels()
) {
    @if config.$print_globals {
        @include extend-selectors-globals(
            $additional: $additional_globals,
            $optional: $optional,
            $allHeadingLevels: $allHeadingLevels
        );
    }

    @if config.$print_utils {
        @include extend-selectors-utils(
            $additional: $additional_utils,
            $optional: $optional,
            $allHeadingLevels: $allHeadingLevels
        );
    }
}
