///
/// @package @maddimathon/design-system-utilities@___CURRENT_VERSION___
/// @since ___PKG_VERSION___
///

// @use 'pkg:@maddimathon/utility-sass/colour';
// @use 'pkg:@maddimathon/utility-sass/list';
// @use 'pkg:@maddimathon/utility-sass/map';
// @use 'pkg:@maddimathon/utility-sass/math';
@use 'pkg:@maddimathon/utility-sass/meta';
// @use 'pkg:@maddimathon/utility-sass/selector';
// @use 'pkg:@maddimathon/utility-sass/string';

@use '../01-functions' as *;
// @use '../02-mixins' as *;

@use 'utils';

///
/// Base styles for a button element.
///
/// @since ___PKG_VERSION___
///
@mixin snippet-button(
    $accentClr: var-theme(button-border),
    $accentClr_active: var-theme(button-border-active),
    $accentClr_hover: var-theme(button-border-hover),
    //
    $background: var-theme(button-bg),
    $background_active: var-theme(button-bg-active),
    $background_hover: var-theme(button-bg-hover),
    //
    $borderClr: var-theme(button-border),
    $borderClr_active: var-theme(button-border-active),
    $borderClr_hover: var-theme(button-border-hover),
    //
    $color: var-theme(button-text),
    $color_active: var-theme(button-text-active),
    $color_hover: var-theme(button-text-hover),
    //
    $args...
) {
    $args: meta.keywords($args);
    --focus-ring-outline-color: #{$accentClr_hover};
    --focus-ring-outline-offset: #{var-border-width('200')};

    @include utils.snippet-button(
        $accentClr: $accentClr,
        $accentClr_active: $accentClr_active,
        $accentClr_hover: $accentClr_hover,

        $background: $background,
        $background_active: $background_active,
        $background_hover: $background_hover,

        $borderClr: $borderClr,
        $borderClr_active: $borderClr_active,
        $borderClr_hover: $borderClr_hover,

        $color: $color,
        $color_active: $color_active,
        $color_hover: $color_hover,

        $includeClrs: true,
        $args...
    );
}

///
/// Base styles for an input element.
///
/// @since ___PKG_VERSION___
///
@mixin snippet-input(
    $borderWidth: '100',
    //
    $accentClr: var-theme(input-border),
    $accentClr_active: var-theme(input-border-active),
    $accentClr_hover: var-theme(input-border-hover),
    //
    $background: var-theme(input-bg),
    $background_active: var-theme(input-bg-active),
    $background_hover: var-theme(input-bg-hover),
    //
    $borderClr: var-theme(input-border),
    $borderClr_active: var-theme(input-border-active),
    $borderClr_hover: var-theme(input-border-hover),
    //
    $color: var-theme(input-text),
    $color_active: var-theme(input-text-active),
    $color_hover: var-theme(input-text-hover),
    //
    $args...
) {
    $args: meta.keywords($args);
    --focus-ring-outline-color: #{$accentClr_hover};
    border-width: #{var-border-width($borderWidth)};

    @include utils.snippet-input(
        $accentClr: $accentClr,
        $accentClr_active: $accentClr_active,
        $accentClr_hover: $accentClr_hover,

        $background: $background,
        $background_active: $background_active,
        $background_hover: $background_hover,

        $borderClr: $borderClr,
        $borderClr_active: $borderClr_active,
        $borderClr_hover: $borderClr_hover,

        $color: $color,
        $color_active: $color_active,
        $color_hover: $color_hover,

        $includeClrs: true,
        $includePlaceholder: false,
        $args...
    );

    &::placeholder {
        opacity: 1;

        color: currentColor;

        @include colour-mode(('low', 'average')) {
            color: color-mix(in srgb, currentColor 75%, transparent);
        }

        @include high-contrast {
            color: color-mix(in srgb, currentColor 90%, transparent);
        }
    }
}

///
/// Base styles for the types of an element. Uses the & as input.
///
/// @since ___PKG_VERSION___
///
@mixin snippet-input-types(
    $accentClr: var-theme(input-border),
    $accentClr_active: var-theme(input-border-active),
    $accentClr_hover: var-theme(input-border-hover),
    $includeBase: true,
    $args...
) {
    $args: meta.keywords($args);

    @include utils.snippet-input-types(
        $accentClr: $accentClr,
        $accentClr_active: $accentClr_active,
        $accentClr_hover: $accentClr_hover,
        $includeBase: $includeBase,

        $includeClrs: true,
        $args...
    );
}

///
/// Base styles for a form label, including check and radio boxes.
///
/// @since ___PKG_VERSION___
///
@mixin snippet-label(
    $color: var-theme(text-primary),
    $color_checkradio: var-theme(text),
    //
    // $gap: var-mrg-soft('300'),
    // $lh_checkradio: var-line-height('400'),
    // $lh: var-line-height('200'),
    // $marginBlock_innercheckradio: var-mrg-firm('200'),
    // $marginBlock: var-mrg-firm('400')
    $args...
) {
    $args: meta.keywords($args);

    @include utils.snippet-label(
        $color: $color,
        $color_checkradio: $color_checkradio,
        $includeClrs: true,
        $args...
    );
}
